/* ajaxRoute | Lucas Morales | http://github.com/lukedmor/ajaxRoute.js */
(function(){function c(){try{var a=d[location.hash.slice(1)||"/"]||d["/"],b=new XMLHttpRequest}catch(c){throw"Undefined hash request, no fallback '/' hash defined";}b.onload=function(){"string"==typeof a.a&&Array.prototype.forEach.call(document.querySelectorAll(a.a+".active"),function(a){a.classList.remove("active")});a.i&&Array.prototype.forEach.call(document.querySelectorAll("["+a.i+"]"),function(a){a.classList.add("active")});var b=this.responseText;Array.prototype.forEach.call(document.querySelectorAll(a.d),function(c){c.innerHTML=(new Function("o",'var t=[];with(o){t.push("'+b.replace(/\s+/g," ").replace(/"/g,'\\"').replace(/{{[^\!](.*?)}}/g,'",$1,"').split("{{!").join('");').split("}}").join('t.push("')+'")}return t.join("");'))(a.c||{})});a.f&&a.f(a.c)};b.open("get",a.u);b.send()}var d={};window.addEventListener("hashchange",c);window.addEventListener("load",c);window.ajaxRoute=function(a){["url","hash","destination"].forEach(function(b){if(!a[b])throw"Could not route: "+b+" not defined";});d[a.hash]={i:a.bindActive,c:a.controller,f:a.callback,a:a.removeActive,d:a.destination,u:a.url};window.location.hash.split(0)==o.hash&&document.getElementById(o.destination)&&router()}})();